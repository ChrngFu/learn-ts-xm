let e=null,t="",n="",i=null,o=null,l=1,r=!1,s=!1;const c={init(l={},c=!0){const{dw:u=1920,dh:y=929,el:m=("string"==typeof l?l:"#app"),resize:f=!0,ignore:h=[],transition:g="none",delay:p=0}=l;e=m;let $=document.querySelector(m);if(!$)return;const w=document.createElement("style"),S=document.createElement("style");w.lang="text/css",S.lang="text/css",w.id="autofit-style",S.id="ignoreStyle",w.innerHTML="body {overflow: hidden;}";const x=document.querySelector("body");x.appendChild(w),x.appendChild(S),$.style.height=`${y}px`,$.style.width=`${u}px`,$.style.transformOrigin="0 0",$.style.overflow="hidden",a(u,y,$,h),i=()=>{clearTimeout(o),0!=p?o=setTimeout((()=>{a(u,y,$,h),s&&d(t,n)}),p):(a(u,y,$,h),s&&d(t,n))},f&&window.addEventListener("resize",i),r=!0,setTimeout((()=>{$.style.transition=`${g}s`}))},off(n="#app"){try{s=!1,window.removeEventListener("resize",i),document.querySelector("#autofit-style").remove();const o=document.querySelector("#ignoreStyle");o&&o.remove(),document.querySelector(e||n).style="",s&&function(){if(!t)return;for(let e of document.querySelectorAll(t))e.style.width="",e.style.height="",e.style.transform=""}()}catch(o){r=!1}}};function d(e,i=1){t=e,n=i;const o=document.querySelectorAll(e);if(0!=o.length){for(let e of o){s||(e.originalWidth=e.clientWidth,e.originalHeight=e.clientHeight);let t=1==l?1:l*i;e.style.width=e.originalWidth*t+"px",e.style.height=e.originalHeight*t+"px",e.style.transform=`scale(${1/l})`,e.style.transformOrigin="0 0"}s=!0}}function a(e,t,n,i){let o=document.documentElement.clientHeight,r=document.documentElement.clientWidth;l=r/o<e/t?r/e:o/t,n.style.height=o/l+"px",n.style.width=r/l+"px",n.style.transform=`scale(${l})`;const s=document.querySelector("#ignoreStyle");s.innerHTML="";for(let c of i){let e=c.el||c.dom;if("string"==typeof c&&(e=c),!e)continue;let t=c.scale?c.scale:1/l,n=t!=l?c.fontSize:"autofit",i=t!=l?c.width:"autofit",o=t!=l?c.height:"autofit";new RegExp(`${e}( |{)`,"gm").test(s.innerHTML)||(s.innerHTML+=`\n${e} { \n      transform: scale(${t})!important;\n      transform-origin: 0 0;\n      width: ${i}!important;\n      height: ${o}!important;\n    }`,n&&(s.innerHTML+=`\n${e} div ,${e} span,${e} a,${e} * {\n        font-size: ${n}px;\n      }`))}}export{c as a};
