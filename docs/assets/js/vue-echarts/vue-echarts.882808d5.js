import{a as e,r as t}from"../resize-detector/resize-detector.dc7d4e8f.js";import{i as n,t as r}from"../echarts/echarts.1f070262.js";import{C as o,z as a,v as i,a6 as u,q as s,e as c,w as l,s as f,f as p,t as v,a8 as d,n as h,u as g}from"../@vue/@vue.b042f052.js";var m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var O=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];var b={autoresize:[Boolean,Object]},y=/^on[^a-z]/,_=function(e){return y.test(e)};function E(e,t){var n=g(e);return n&&"object"==typeof n&&"value"in n?n.value||t:n||t}var j={loading:Boolean,loadingOptions:Object},x=null,z="x-vue-echarts",w=[],A=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",o=!0===t.singleTag,a="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var i=w.indexOf(a);-1===i&&(i=w.push(a)-1,A[i]={}),n=A[i]&&A[i][r]?A[i][r]:A[i][r]=u()}else n=u();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function u(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),o=0;o<n.length;o++)e.setAttribute(n[o],t.attributes[n[o]]);var i="prepend"===r?"afterbegin":"beforeend";return a.insertAdjacentElement(i,e),e}}("x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>div{width:100%;height:100%}\n",{});var C=function(){if(null!=x)return x;if("undefined"==typeof HTMLElement||"undefined"==typeof customElements)return x=!1;try{new Function("tag","class EChartsElement extends HTMLElement {\n  __dispose = null;\n\n  disconnectedCallback() {\n    if (this.__dispose) {\n      this.__dispose();\n      this.__dispose = null;\n    }\n  }\n}\n\nif (customElements.get(tag) == null) {\n  customElements.define(tag, EChartsElement);\n}\n")(z)}catch(e){return x=!1}return x=!0}(),L=o({name:"echarts",props:m(m({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},b),j),emits:{},inheritAttrs:!1,setup:function(o,d){var g=d.attrs,b=a(),y=a(),j=a(),x=a(),z=i("ecTheme",null),w=i("ecInitOptions",null),A=i("ecUpdateOptions",null),L=u(o),T=L.autoresize,S=L.manualUpdate,D=L.loading,U=L.loadingOptions,k=s((function(){return x.value||o.option||null})),B=s((function(){return o.theme||E(z,{})})),P=s((function(){return o.initOptions||E(w,{})})),H=s((function(){return o.updateOptions||E(A,{})})),M=s((function(){return function(e){var t={};for(var n in e)_(n)||(t[n]=e[n]);return t}(g)})),R=c().proxy.$listeners;function q(e){if(y.value){var t=j.value=n(y.value,B.value,P.value);o.group&&(t.group=o.group);var r=R;r||(r={},Object.keys(g).filter((function(e){return 0===e.indexOf("on")&&e.length>2})).forEach((function(e){var t=e.charAt(2).toLowerCase()+e.slice(3);"Once"===t.substring(t.length-4)&&(t="~".concat(t.substring(0,t.length-4))),r[t]=g[e]}))),Object.keys(r).forEach((function(e){var n=r[e];if(n){var o=e.toLowerCase();"~"===o.charAt(0)&&(o=o.substring(1),n.__once__=!0);var a=t;if(0===o.indexOf("zr:")&&(a=t.getZr(),o=o.substring(3)),n.__once__){delete n.__once__;var i=n;n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(void 0,e),a.off(o,n)}}a.on(o,n)}})),T.value?h((function(){t&&!t.isDisposed()&&t.resize(),a()})):a()}function a(){var n=e||k.value;n&&t.setOption(n,H.value)}}function F(){j.value&&(j.value.dispose(),j.value=void 0)}var N=null;l(S,(function(e){"function"==typeof N&&(N(),N=null),e||(N=l((function(){return o.option}),(function(e,t){e&&(j.value?j.value.setOption(e,m({notMerge:e!==t},H.value)):q())}),{deep:!0}))}),{immediate:!0}),l([B,P],(function(){F(),q()}),{deep:!0}),f((function(){o.group&&j.value&&(j.value.group=o.group)}));var I,W,Z,$,G,J=function(e){return t=Object.create(null),O.forEach((function(n){var r;t[n]=(r=n,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,t)})})),t;var t}(j);return I=j,W=D,Z=U,$=i("ecLoadingOptions",{}),G=s((function(){return m(m({},E($,{})),null==Z?void 0:Z.value)})),f((function(){var e=I.value;e&&(W.value?e.showLoading(G.value):e.hideLoading())})),function(n,o,a){var i=null;l([a,n,o],(function(n,o,a){var u=n[0],s=n[1],c=n[2];if(u&&s&&c){var l=!0===c?{}:c,f=l.throttle,p=void 0===f?100:f,v=l.onResize,d=function(){s.resize(),null==v||v()};i=p?r(d,p):d,e(u,i)}a((function(){u&&i&&t(u,i)}))}))}(j,T,y),p((function(){q()})),v((function(){C&&b.value?b.value.__dispose=F:F()})),m({chart:j,root:b,inner:y,setOption:function(e,t){o.manualUpdate&&(x.value=e),j.value?j.value.setOption(e,t||{}):q(e)},nonEventAttrs:M},J)},render:function(){var e=m({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",d(z,e,[d("div",{ref:"inner"})])}});export{L as B};
